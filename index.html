<!DOCTYPE html>
<html>

<head>
  <title>W3.CSS Template</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="css/s3.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <style>
    #myDialog {
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    .btnstyle {
      padding: 10px 20px;
      background-color: #007BFF;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    #closeDialog {
      padding: 10px 20px;
      background-color: #DC3545;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }

    .full-screen-section {
      height: 100vh;
      display: flex;
      flex-direction: column;
    }

    html,
    body,
    h1,
    h2,
    h3,
    h4 {
      font-family: "Lato", sans-serif
    }

    .mySlides {
      display: none
    }

    .w3-tag,
    .fa {
      cursor: pointer
    }

    .w3-tag {
      height: 15px;
      width: 15px;
      padding: 0;
      margin-top: 6px
    }

    .container {
      display: flex;
      align-items: center;
      padding-top: 45px;
    }

    .container img {
      order: 1;
      margin-right: 10px;
      /* Optional: Add some space between the image and text */
    }

    .container p {
      order: 2;
    }

    @media (max-width: 600px) {
      .hide-on-mobile {
        display: none;
      }
    }

    /* Default font size */
    .responsive-text {
      font-size: 30px;
      /* Adjust as needed */
    }

    /* Smaller font size for screens smaller than 600px */
    @media (max-width: 600px) {
      .responsive-text {
        font-size: 20px;
        /* Adjust as needed */
      }
    }
  </style>

</head>

<body>

  <!-- Links (sit on top) -->
  <div class="w3-top">
    <div class="w3-row w3-large w3-light-grey">
      <div class="w3-col s33">
        <a href="#" class="w3-button w3-block">Home</a>
      </div>
      <div class="w3-col s33">
        <a href="#polls" class="w3-button w3-block">Polls</a>
      </div>
      <div class="w3-col s33">
        <a href="#docs" class="w3-button w3-block">Docs</a>
      </div>
      <div class="w3-col s33">
        <a href="#payments" class="w3-button w3-block">Pay</a>
      </div>
      <div class="w3-col s33">
        <a href="#contact" class="w3-button w3-block">Contact</a>
      </div>
    </div>
  </div>

  <!-- Content -->
  <div class="w3-content" style="max-width:1100px;margin-top:80px;margin-bottom:80px">

    <div class="w3-panel">

      <h1 style="font-size: 25px; display: flex; align-items: center;">
        <img src="./images/logo.png" alt="Logo" style="width: 30px; height: 30px; margin-right: 10px;">
        <b class="responsive-text">Owensfield Community Group</b>
      </h1>
      <p>The community group for managing and maintaining Owensfield</p>
    </div>

    <!-- Slideshow -->
    <div class="w3-container full-screen-section">
      <div class="w3-display-container mySlides">
        <img src="./images/1.jpg" style="width:100%">
        <div class="w3-display-topleft w3-container w3-padding-32">
        </div>
      </div>
      <div class="w3-display-container mySlides">
        <img src="./images/4.jpg" style="width:100%">
        <div class="w3-display-topright w3-container w3-padding-32">
        </div>
      </div>
      <div class="w3-display-container mySlides">
        <img src="./images/2.jpg" style="width:100%">
        <div class="w3-display-middle w3-container w3-padding-32">
        </div>
      </div>
      <div class="w3-display-container mySlides">
        <img src="./images/3.jpg" style="width:100%">
        <div class="w3-display-topright w3-container w3-padding-32">
        </div>
      </div>

      <!-- Slideshow next/previous buttons -->
      <div class="w3-container w3-dark-grey w3-medium">
        <div class="w3-left" onclick="plusDivs(-1)"><i class="fa fa-arrow-circle-left w3-hover-text-teal"></i></div>
        <div class="w3-right" onclick="plusDivs(1)"><i class="fa fa-arrow-circle-right w3-hover-text-teal"></i></div>

      </div>

      <div class="container">
        <div float="left" class="hide-on-mobile"> <img src="./images/big-logo.png" style="width:200px"></div>
        <div float="right">
          <p>
            Tucked away in the serene woods of Caswell Valley, youâ€™ll find charming, eco-friendly chalet huts that blend
            seamlessly with the natural landscape. With minimal environmental impact, its residents immerse themselves
            in nature without disturbing the delicate balance of the surrounding ecosystem.
            <br></br>
            Owensfield is part of one of the few remaining traditional Welsh hutting communities, where the rich
            heritage of simple, sustainable living is still cherished and preserved.
          </p>
        </div>
      </div>
    </div>

    <!-- Grid -->
    <div class="w3-row w3-container full-screen-section">
      <div class="w3-center w3-padding-64" id="docs">
        <span class="w3-xlarge w3-bottombar w3-border-dark-grey w3-padding-16">Docs</span>
      </div>

      <center>

        <p>
          Shared community docs.<br></br>
          if you want to be added contact a member of the steering group.
        </p>

        <button class="btnstyle"
          onClick="window.open('https://drive.google.com/embeddedfolderview?id=1BOnbM5-Os0XyPbI4F8qOKhp5C6e13xPH#list', '_blank')">Open
          shared docs</button>
      </center>

    </div>


    <!-- Grid -->
    <div class="w3-container full-screen-section">
      <div class="w3-row-padding " id="polls">
        <div class="w3-center w3-padding-64">
          <span class="w3-xlarge w3-bottombar w3-border-dark-grey w3-padding-16">Polls</span>

        </div>
        <p class="w3-center">Community polls for guiding decisions making.</p>

        <center> <button class="btnstyle" id="openDialog">Scan login qr</button></center>

        <dialog id="myDialog">
          <h1>QR Code Scanner</h1>
          <video id="qr-video" style="width: 100%; height: auto;"></video>
          <p>Scanned QR Code Data: <span id="qr-result">None</span></p>
          <button id="closeDialog">Close</button>
        </dialog>

      </div>
    </div>



    <!-- Grid -->
    <div class="w3-container full-screen-section">
      <div class="w3-row-padding" id="payments">
        <div class="w3-center w3-padding-64">
          <span class="w3-xlarge w3-bottombar w3-border-dark-grey w3-padding-16">Payments</span>

        </div>
        <p class="w3-center">Donate to Owensfield, or for members to pay their membership.</p>
        <center>
          <button class="btnstyle"
            onClick="window.open('https://pay.collctiv.com/ocg-2024-membership-fee-24808', '_blank')">Pay or
            donate</button>
        </center>

      </div>
    </div>

    <!-- Contact -->
    <div class="w3-container">
      <div class="w3-center w3-padding-64" id="contact">
        <span class="w3-xlarge w3-bottombar w3-border-dark-grey w3-padding-16">Contact the steering group</span>
      </div>

      <form class="w3-container" action="/action_page.php" target="_blank">
        <div class="w3-section">
          <label>Name</label>
          <input class="w3-input w3-border w3-hover-border-black" style="width:100%;" type="text" name="Name" required>
        </div>
        <div class="w3-section">
          <label>Email</label>
          <input class="w3-input w3-border w3-hover-border-black" style="width:100%;" type="text" name="Email" required>
        </div>
        <div class="w3-section">
          <label>Subject</label>
          <input class="w3-input w3-border w3-hover-border-black" style="width:100%;" name="Subject" required>
        </div>
        <div class="w3-section">
          <label>Message</label>
          <input class="w3-input w3-border w3-hover-border-black" style="width:100%;" name="Message" required>
        </div>
        <button type="submit" class="w3-button w3-block w3-black">Send</button>
      </form>
      <div class="w3-container">
      </div>
      <div class="w3-padding-64">
        <span class="w3-large w3-bottombar w3-border-dark-grey w3-padding-16">Current steering group members</span>
      </div>

      <div class="w3-row-padding">
        <div class="w3-quarter w3-margin-bottom">
          <div class="w3-card-4">

            <div class="w3-container">
              <h3>Sarah</h3>
              <p class="w3-opacity">Some text about why people might contact you.</p>
            </div>
          </div>
        </div>

        <div class="w3-quarter w3-margin-bottom">
          <div class="w3-card-4">

            <div class="w3-container">
              <h3>Andy (7)</h3>
              <p class="w3-opacity">Some text about why people might contact you.</p>
            </div>
          </div>
        </div>

        <div class="w3-quarter w3-margin-bottom">
          <div class="w3-card-4">

            <div class="w3-container">
              <h3>Ian</h3>
              <p class="w3-opacity">Some text about why people might contact you.</p>
            </div>
          </div>
        </div>

        <div class="w3-quarter w3-margin-bottom">
          <div class="w3-card-4">

            <div class="w3-container">
              <h3>Sarah</h3>
              <p class="w3-opacity">Some text about why people might contact you.</p>
            </div>
          </div>
        </div>


        <div class="w3-quarter w3-margin-bottom">
          <div class="w3-card-4">

            <div class="w3-container">
              <h3>Mark</h3>
              <p class="w3-opacity">Some text about why people might contact you.</p>
            </div>
          </div>
        </div>

        <div class="w3-quarter w3-margin-bottom">
          <div class="w3-card-4">

            <div class="w3-container">
              <h3>Angi</h3>
              <p class="w3-opacity">Some text about why people might contact you.</p>
            </div>
          </div>
        </div>

        <div class="w3-quarter w3-margin-bottom">
          <div class="w3-card-4">

            <div class="w3-container">
              <h3>Mike</h3>
              <p class="w3-opacity">Some text about why people might contact you.</p>
            </div>
          </div>
        </div>

        <div class="w3-quarter w3-margin-bottom">
          <div class="w3-card-4">

            <div class="w3-container">
              <h3>Ben (25)</h3>
              <p class="w3-opacity">Contact Ben for Google drive or the website.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->

  <footer class="w3-container w3-padding-32 w3-light-grey w3-center">
    <h4>Footer</h4>
    <a href="#" class="w3-button w3-black w3-margin"><i class="fa fa-arrow-up w3-margin-right"></i>To the top</a>
    <div class="w3-xlarge w3-section">
      <i class="fa fa-facebook-official w3-hover-opacity"></i>
      <i class="fa fa-instagram w3-hover-opacity"></i>
      <i class="fa fa-snapchat w3-hover-opacity"></i>
      <i class="fa fa-pinterest-p w3-hover-opacity"></i>
      <i class="w3-hover-opacity" onClick="window.open('https://ditto.pub/@owensfield@nostr.com', '_blank')"><img src="./images/nostr.png"></i>
      <i class="fa fa-linkedin w3-hover-opacity"></i>
    </div>
  </footer>

  <script type="module">
    import QrScanner from './js/qrcode.js';
  </script>
  <script>
    var slideIndex = 1;
    showDivs(slideIndex);

    // Auto-scroll every 3 seconds
    setInterval(function () {
      plusDivs(1);
    }, 3000);

    function plusDivs(n) {
      showDivs(slideIndex += n);
    }

    function currentDiv(n) {
      showDivs(slideIndex = n);
    }

    function showDivs(n) {
      var i;
      var x = document.getElementsByClassName("mySlides");
      var dots = document.getElementsByClassName("demodots");
      if (n > x.length) { slideIndex = 1 }
      if (n < 1) { slideIndex = x.length }
      for (i = 0; i < x.length; i++) {
        x[i].style.display = "none";
      }
      for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" w3-white", "");
      }
      x[slideIndex - 1].style.display = "block";
    }
    function qrcodescanner() {
      const qrScanner = new QrScanner(video, result => {
        console.log('Scanned QR Code:', result);
        scannedData = result;
        resultElement.textContent = scannedData;
        qrScanner.stop();
      });
      qrScanner.start();
    }
    // Function to start the QR scanner
    function startScanning() {
      qrScanner.start().catch(error => {
        console.error('Camera error:', error);
        if (error.message.includes("Camera not found")) {
          alert("Camera not found. Please ensure your camera is connected and enabled.");
          openDialog.disabled = true; // Disable the button if camera is not found
        }
      });
    }
    const video = document.getElementById('qr-video');
    const resultElement = document.getElementById('qr-result');
    let scannedData = '';
    const openButton = document.getElementById('openDialog');
    const closeButton = document.getElementById('closeDialog');
    const dialog = document.getElementById('myDialog');
    openButton.addEventListener('click', () => {
      qrcodescanner();
      dialog.showModal();
    });
    closeButton.addEventListener('click', () => {
      dialog.close();
    });
    openDialog.addEventListener('click', startScanning);
  </script>

</body>

</html>